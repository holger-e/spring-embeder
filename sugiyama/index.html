<!DOCTYPE html>
<html>
  <head>
    <title>Graph Drawing Challenge 2018</title>
    <style>
      html, body {
        margin: 0px;
        padding: 0px;
      }

      #exportBox {
        position: fixed;
        top: 10px;
        right: 10px;
      }
    </style>
    <script>
      const CANVAS_ID = "canvas";
      const CANVAS_WIDTH = 500;
      const CANVAS_HEIGHT = 500;

      window.addEventListener("load", function() {
        // Gets canvas and context.
        let canvas = document.getElementById(CANVAS_ID);
        canvas.width = CANVAS_WIDTH;
        canvas.height = CANVAS_HEIGHT;
        if (!canvas) {
          console.log("Could not find canvas with id " + CANVAS_ID + ".");
        }
        let ctx = canvas.getContext("2d");

        // Initializes embedder.
        let embedder = new GraphEmbedder(ctx);

        let vert1 = new Vertex("Paul Jungeblut", 100, 100, 50, 10);
        let vert2 = new Vertex("Holger Ebhart", 200, 200, 60, 20);
        embedder.addVertex(vert1);
        embedder.addVertex(vert2);

        let edge1 = new Edge(vert1, vert2);
        embedder.addEdge(edge1);

        // Rendering loop.
        function draw() {
          embedder.draw();
          window.requestAnimationFrame(draw);
        }
        window.requestAnimationFrame(draw);
      });

      function exportImage() {
        let canvas = document.getElementById(CANVAS_ID);
        if (!canvas) {
          console.log("Could not find canvas with id " + CANVAS_ID + ".");
        }
        console.log(canvas.toDataURL());
      }
    </script>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <div id="exportBox">
      <button onclick="exportImage()">Export</button>
    </div>
    <script src="vertex.js"></script>
    <script src="edge.js"></script>
    <script src="graphEmbedder.js"></script>
  </body>
</html>
