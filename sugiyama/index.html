<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Graph Drawing Challenge 2018</title>
    <style>
      html, body {
        margin: 0px;
        padding: 0px;
      }

      #exportBox {
        position: fixed;
        top: 10px;
        right: 10px;
      }
    </style>
    <script>
      const CANVAS_ID = "canvas";
      const CANVAS_WIDTH = 1000;
      const CANVAS_HEIGHT = 800;

      window.addEventListener("load", function() {
        // Gets canvas and context.
        let canvas = document.getElementById(CANVAS_ID);
        canvas.width = CANVAS_WIDTH;
        canvas.height = CANVAS_HEIGHT;
        if (!canvas) {
          console.log("Could not find canvas with id " + CANVAS_ID + ".");
        }
        let ctx = canvas.getContext("2d");

        // Initializes embedder.
        let embedder = new GraphEmbedder(ctx);
        let sugiyama = new Sugiyama(embedder, COMP_71);

        // Rendering loop.
        function draw() {
          sugiyama.draw();
          window.requestAnimationFrame(draw);
        }
        window.requestAnimationFrame(draw);
      });

      function exportImage() {
        let canvas = document.getElementById(CANVAS_ID);
        if (!canvas) {
          console.log("Could not find canvas with id " + CANVAS_ID + ".");
        }
        console.log(canvas.toDataURL());
      }
    </script>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <div id="exportBox">
      <button onclick="exportImage()">Export</button>
    </div>
    <script src="../components/comp71.js"></script>
    <script src="vertex.js"></script>
    <script src="dummyVertex.js"></script>
    <script src="edge.js"></script>
    <script src="graphEmbedder.js"></script>
    <script src="sugiyama.js"></script>
  </body>
</html>
